
<!-- saved from url=(0071)https://www.eecs.yorku.ca/~roumani/course/2021/lex/Tue/index.cgi?comp=3 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><title>LEx/HR</title><style type="text/css">body { font-family: verdana, arial, Helvetica, sans-serif;font-size: 18px; }ol li, ul li {padding-bottom: 10px;}</style></head><body>

  <title>LEx/HR</title>
  <style type="text/css">
    body
    { 
       font-family: verdana, arial, Helvetica, sans-serif; 
       font-size: 18px; 
    }
    .banner 
    { 
       background-color: #d8bfd8;
       color: #00008b; 
       font-size: large;
       width: 100%;
       border: 1px solid #00008b; 
       font-weight: bold;
       text-align: center;
       vertical-align: middle;
    }
    .me
    {
      color: #4b0082;
      font-size: x-small;
    }
    .hi
    {
      color: #bb00bb;
      font-weight: bold;
    }
    h2
    {
      color: blue;
    }
    ol li, ul li {margin-bottom: 8px;}
    #deadline
    {
      background-color: lightGrey;
      font-weight: bold;
      text-align: center;
      padding: 1em;
    }
  </style>



<div class="banner">
<p class="me">Computer Organization / Professor H. Roumani</p>
<p>Lab-C</p>
</div>

<article>

<h2>The Question</h2>
<ol>
<li>Create a working directory for this exercise.</li>
<li>Create a file in the working directory named 
    <span class="hi">Prog.s</span>. Note that the name has to
    be <span class="hi">exactly</span> like this 
    (e.g. it should <b>not</b> be PROG.s or prog.s) or else your 
    submission will not be marked.</li>
<li>Copy and paste the code fragment at the bottom of this page
    to the newly created file.</li>
<li>Complete the development of the file such that it translates
    the following Java program to a MIPS assembly language program
    (i.e. the two programs should produce <u>identical</u> outputs
    when the same input is supplied to them):<pre>//---------------------------------------------------------
import java.util.Scanner;
public class Prog
{
	public static void main(String[] args)
	{
		int n = 34;
		int x = (new Scanner(System.in)).nextInt();
		if (x &lt; n)
		{
			int tmp = compute(x, n);
			System.out.println(tmp);
		}
		else
		{
			int tmp = gar(x);
			System.out.println(tmp);
		}
	}
	public static int compute(int a, int b)
	{
		int result = a - b * a;
		return result;
	}
	public static int gar(int a) 
	{
		int result;
		if (a == 1) 
		{
			result = 0;
		}
		else
		{
			result = 1 + gar(a / 2);
		}
		return result;
	}
}
//---------------------------------------------------------</pre></li>
<li>You can assume, as a precondition, that no exception will be thrown. This
    implies all entries are valid and no illegal or out of bound computation 
    will take place.</li>
</ol>

<h2>Note</h2>
The main method is already translated for you. 
<span class="hi"><b>&gt;&gt; DO NOT &lt;&lt;</b></span> modify anything in it. 

<h2>Test Cases</h2>
You can generate as many test cases as you want by simply running the provided 
Java program and comparing its output to your MIPS program for a number of
test cases that cover the various possibilities. 

<h2>Submitting Your Work</h2>
<ol>
<li>Issue the following command from the working directory: <pre>  submit 2021 LabC_Tue Prog.s</pre></li>
<li>Note that every submission you make <span class="hi">overwrites</span> 
    the content and the timestamp of any previous one; i.e. we only keep
    the very last file you submit.</li>
<li>This test is <b>40 minute</b> long.</li>
</ol>

<h2>The Code Fragment</h2>
<p>Copy and paste this fragment into the file to be submitted:</p>
<hr>
<pre>########################################################
#
#			Prog.s
#
########################################################
	.text
main:	sw	$ra, 0($sp)
	addi	$sp, $sp, -4

	addi	$s0, $0, 34	# s0 = n
	addi	$v0, $0, 5
	syscall
	add	$s1, $0, $v0	# s1 = x

	slt	$t5, $s1, $s0
	beq	$t5, $0, part2

part1:	add	$a0, $0, $s1
	add	$a1, $0, $s0
	jal	compute
	add	$a0, $0, $v0
	addi	$v0, $0, 1
	syscall
	j	done

part2:	add	$a0, $0, $s1
	jal	gar
	add     $a0, $0, $v0
	addi    $v0, $0, 1
	syscall 
	j       done

done:	addi	$sp, $sp, 4
	lw	$ra, 0($sp)
	jr	$ra

#------------------------------compute
compute:

#------------------------------gar
gar:	

########################################################
</pre>
<hr>

</article>
<br>
<div class="banner">
<p class="me">Computer Organization / Professor H. Roumani</p>
</div>


<hr></body></html>